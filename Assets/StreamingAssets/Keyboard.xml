<?xml version="1.0" encoding="utf-8" ?>

<!-- Voice controlled keyboard for handling user input -->
<grammar xml:lang="en" root="getInput" tag-format="semantics/1.0" version="1.0" xmlns="http://www.w3.org/2001/06/grammar">
  <!-- ROOT -->
  <rule id="getInput" scope="public">
    <one-of>
      <item>
        <ruleref uri="#letter" />
        <tag>out.inputLetter = rules.letter;</tag>
      </item>
      <item>
        <ruleref uri="#special"/>
        <tag>out.inputLetter = rules.special;</tag>
      </item>
      <item>
        <ruleref uri="#capsLock"/>
        <tag>out.capsLock = rules.capsLock;</tag>
      </item>
    </one-of>
  </rule>

  <rule id="letter">
    <one-of>
      <item>alpha <tag>out = "A";</tag> </item>
      <item>bravo <tag>out = "B";</tag> </item>
      <item>charlie <tag>out = "C";</tag> </item>
      <item>delta <tag>out = "D";</tag> </item>
      <item>echo <tag>out = "E";</tag> </item>
      <item>foxtrot <tag>out = "F";</tag> </item>
      <item>golf <tag>out = "G";</tag> </item>
      <item>hotel <tag>out = "H";</tag> </item>
      <item>india <tag>out = "I";</tag> </item>
      <item>juliet <tag>out = "J";</tag> </item>
      <item>kilo <tag>out = "K";</tag> </item>
      <item>lima <tag>out = "L";</tag> </item>
      <item>mike <tag>out = "M";</tag> </item>
      <item>november <tag>out = "N";</tag> </item>
      <item>oscar <tag>out = "O";</tag> </item>
      <item>papa <tag>out = "P";</tag> </item>
      <item>quebec <tag>out = "Q";</tag> </item>
      <item>romeo <tag>out = "R";</tag> </item>
      <item>sierra <tag>out = "S";</tag> </item>
      <item>tango <tag>out = "T";</tag> </item>
      <item>uniform <tag>out = "U";</tag> </item>
      <item>victor <tag>out = "V";</tag> </item>
      <item>whiskey <tag>out = "W";</tag> </item>
      <item>x-ray <tag>out = "X";</tag> </item>
      <item>yankee <tag>out = "Y";</tag> </item>
      <item>zulu <tag>out = "Z";</tag> </item>
    </one-of>
  </rule>

  <rule id="special">
    <one-of>
      <item>
        <item>space</item>
        <tag>out = "Space";</tag>
      </item>

      <!-- Cancel actions -->
      <item>
        <one-of>
          <item>backspace</item>
          <item>back space</item>
        </one-of>
        <tag>out = "Backspace";</tag>
      </item>

      <!-- Confirmation actions -->
      <item>
        <one-of>
          <item>enter</item>
          <item>submit</item>
          <item>save</item>
        </one-of>
        form
        <tag>out = "Submit";</tag>
      </item>
    </one-of>
  </rule>

  <!-- Toggle letter casing -->
  <rule id="capsLock">
    capslock
    <one-of>
      <item>on <tag>out = true;</tag> </item>
      <item>off <tag>out = false;</tag> </item>
    </one-of>
  </rule>
</grammar>
